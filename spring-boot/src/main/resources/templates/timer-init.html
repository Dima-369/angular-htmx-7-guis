<!--suppress XmlUnboundNsPrefix -->

<form id="form-timer">
    <input
            type="hidden"
            hx-post="http://localhost:8083/timer"
            hx-include="[name='durationMs']"
            hx-target="#form-timer"
            hx-trigger="load">
</form>

<div class="flex">
    <span style="min-width: 120px">Duration:</span>

    <!--suppress HtmlFormInputWithoutLabel -->
    <input
            th:max="${maxTimeMs}"
            th:value="${durationMs}"
            hx-post="http://localhost:8083/timer"
            hx-trigger="input"
            hx-sync="#form-timer:abort"
            hx-include="[name='maxTimeMs'],[name='durationMs']"
            style="width: 200px; align-self: start"
            id="timer-duration"
            min="0"
            name="durationMs"
            type="range"/>
</div>

<!-- place button outside the form since the click event listener will collide with the every ms calls -->
<button
        id="btn-timer-reset"
        hx-post="http://localhost:8083/timer-reset"
        hx-target="#form-timer"
        hx-trigger="click"
        hx-include="[name='maxTimeMs'],[name='durationMs']"
        class="rounded-lg border bg-gray-100 px-3 py-2 w-full mt-2">Reset
</button>